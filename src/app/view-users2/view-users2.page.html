<ion-toolbar>
    <ion-buttons (click)="logout()" class="logout">
        <ion-icon class="icon" name="log-out-outline"></ion-icon>
    </ion-buttons>
    <ion-header class="logotoolbar">
    </ion-header>
</ion-toolbar>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<ion-content class="ion-padding">
    <!-- Playback section -->
    <div text-center *ngFor="let song of songs">
        <!-- File name -->

        <br>
        <h1>{{song.Songname}}</h1>
        <br>

        <!-- avatar -->

        <ion-img src={{song.imgURL}} alt="ihaveadream" style="width: 80%; "></ion-img>

        <br>

        <!-- control bar -->
        <div>
            <ion-range min="0" max="{{duration}}" [(ngModel)]="position">
                <!--  [disabled]="is_in_play && is_playing"  -->
                <ion-label slot="start">{{ position*1000 | date:'mm:ss' }}</ion-label>
                <ion-label slot="end" *ngIf="duration == -1">--:--</ion-label>
                <ion-label slot="end" *ngIf="duration != -1">{{ duration*1000 | date:'mm:ss' }}</ion-label>
            </ion-range>
        </div>
        <br>
        <!-- <div *ngFor="let song of songs">
            <audio>
              <source src={{song.digitalaudio}}>
            </audio>
        </div> -->
        <audio>
          <source #player src={{audio.src}}>
      </audio>
        <ion-grid>



            <ion-row class="ion-align-items-center ion-justify-content-center" style="height: 100%">
                <ion-col>
                    <!-- Backwards -->
                    <ion-fab-button class="skip-btn" color="primary" [disabled]="!is_ready || !is_in_play" (click)="controlSeconds('back')">
                        &nbsp;&nbsp;
                        <ion-icon name="skip-backward"></ion-icon>&nbsp;&nbsp;
                    </ion-fab-button>
                </ion-col>
                <ion-col>
                    <!-- Play/Pause -->
                    <ion-fab-button class="play-pause-btn" (click)="playRecording()" color="primary" *ngIf="!is_playing" [disabled]="!is_ready">
                        <ion-icon name="play"></ion-icon>
                    </ion-fab-button>

                    <ion-fab-button class="play-pause-btn" (click)="pausePlayRecording()" color="secondary" *ngIf="is_playing" [disabled]="!is_ready">
                        <ion-icon name="pause"></ion-icon>
                    </ion-fab-button>
                </ion-col>
                <ion-col>
                    <!-- Forwards -->
                    <ion-fab-button class="skip-btn" color="primary" [disabled]="!is_ready || !is_in_play" (click)="controlSeconds('forward')">
                        &nbsp;&nbsp;
                        <ion-icon name="skip-forward"></ion-icon>&nbsp;&nbsp;
                    </ion-fab-button>
                </ion-col>
            </ion-row>

        </ion-grid>

    </div>

</ion-content>